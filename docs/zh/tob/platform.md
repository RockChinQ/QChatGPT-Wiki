# 消息平台稳定性

:::info 目录
[[toc]]
:::

主流的机器人都是使用`逆向工程`的方式，破解QQ的通信协议，实现程序控制的功能。这种方式具有一定的灰色性质，可能会被腾讯系统风控。

目前的案例来看，现有的逆向工程可以实现多个月的较稳定运行，服务宕机恢复不会超过24小时，有完善的社区支持，可以较好地应对商业用途。

## 降低被风控风险

- 在配置文件中启用`强制消息延迟`、`请求限速功能`，使机器人回复用户消息的速度降低，减少被风控的风险。

- 避免将机器人放到人员复杂的大群里使用。这个一般不会出问题，有过在3000人大群稳定运行近一年的案例。但若是群内人员频繁举报机器人账号，可能会被风控。

- 使用境内主机或家用网络的电脑运行消息平台，尽量不使用境外主机。

## 机器人服务多开

如果机器人的业务与账号本身弱相关，可以考虑开启多个`消息平台`（例如使用两个账号登录两个Lagrange实例），在一个机器人被腾讯封号后，另一个机器人还可以继续服务。

## 使用 QQ 官方机器人 API

腾讯官方在23年下半年开放了Q群机器人API，LangBot 很好地支持这个 API，可以查看部署教程中的配置方式使用。

但 QQ 官方机器人API具有以下已知的局限性：

- 需要企业资质才能申请
- 仅支持群内使用，不支持私聊
- 仅能接收到群内@机器人的消息，无法接收到群内其他消息
- 主动发送消息每天限次
- 腾讯对 AIGC 功能的机器人审核较严格